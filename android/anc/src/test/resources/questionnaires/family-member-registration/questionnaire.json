{
  "meta": {
    "profile": [
      "http://ehelse.no/fhir/StructureDefinition/sdf-Questionnaire"
    ],
    "tag": [
      {
        "system": "urn:ietf:bcp:47",
        "code": "en-GB",
        "display": "English"
      }
    ]
  },
  "language": "en-GB",
  "date": "2022-02-14T00:00:00.000Z",
  "version": "0.0.3",
  "subjectType": [
    "Patient",
    "RelatedPerson"
  ],
  "status": "active",
  "publisher": "ona",
  "description": "eCBIS Add Family Member Registration",
  "purpose": "Family Member Registration",
  "name": "eCBIS Add Family Member Registration",
  "title": "eCBIS Add Family Member Registration",
  "resourceType": "Questionnaire",
  "code": [
    {
      "system": "https://www.snomed.org",
      "code": "303071001",
      "display": "Family Member"
    }
  ],
  "contact": [
    {
      "name": "http://www.ona.io"
    }
  ],
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-targetStructureMap",
      "valueCanonical": "https://fhir.labs.smartregister.org/fhir/StructureMap/103346"
    }
  ],
  "item": [
    {
      "type": "string",
      "code": [],
      "required": true,
      "linkId": "ed77104e-c279-4030-ab20-8cd99ca99ca9",
      "text": "OpenSRP ID",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.identifier.value",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.identifier[0].value"
          }
        }
      ]
    },
    {
      "type": "string",
      "code": [],
      "required": false,
      "linkId": "06cbc503-3fa3-49f4-d0d7-9f427c0c6dd9",
      "text": "National ID number",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.identifier.value",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.identifier[1].value"
          }
        }
      ]
    },
    {
      "type": "string",
      "code": [],
      "required": true,
      "linkId": "e6306275-b989-4375-8527-3a56092081b8",
      "text": "First Name",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.given",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.name.given"
          }
        }
      ]
    },
    {
      "type": "string",
      "code": [],
      "required": false,
      "linkId": "597f4425-72b3-4bc4-8f38-b742aa3e99cd",
      "text": "Middle name",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.text",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.name.text"
          }
        }
      ]
    },
    {
      "type": "string",
      "code": [],
      "required": false,
      "linkId": "8fb87910-d900-4eea-dbba-dcf76ee6806d",
      "text": "Surname",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.name.family",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.name.family"
          }
        }
      ]
    },
    {
      "type": "choice",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "check-box",
                "display": "Check-box"
              }
            ],
            "text": "Check-box"
          }
        }
      ],
      "required": false,
      "repeats": true,
      "linkId": "36d39dbe-00e2-4e29-f079-3ec8f0119aff",
      "answerOption": [
        {
          "valueCoding": {
            "code": "date-of-birth-unknown",
            "display": "Date of Birth Unknown",
            "system": "urn:uuid:d2f70cf6-9320-4f5c-ce52-02f67f2a99e2"
          }
        }
      ]
    },
    {
      "type": "date",
      "code": [],
      "required": true,
      "linkId": "cd8e3d6d-e9ff-458d-d122-57070bebffaf",
      "text": "Date of birth (DOB)",
      "enableWhen": [
        {
          "answerBoolean": false,
          "question": "36d39dbe-00e2-4e29-f079-3ec8f0119aff",
          "operator": "exists"
        }
      ],
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.birthDate",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.birthDate"
          }
        }
      ]
    },
    {
      "type": "integer",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/maxValue",
          "valueInteger": 120
        }
      ],
      "required": true,
      "linkId": "8460d986-ef71-4997-80ee-7887d8c345e7",
      "text": "Age",
      "enableWhen": [
        {
          "answerBoolean": false,
          "question": "cd8e3d6d-e9ff-458d-d122-57070bebffaf",
          "operator": "exists"
        },
        {
          "answerCoding": {
            "code": "date-of-birth-unknown",
            "system": "urn:uuid:d2f70cf6-9320-4f5c-ce52-02f67f2a99e2"
          },
          "question": "36d39dbe-00e2-4e29-f079-3ec8f0119aff",
          "operator": "="
        }
      ],
      "enableBehavior": "all",
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.age"
    },
    {
      "type": "choice",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        },
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.gender"
          }
        }
      ],
      "required": true,
      "linkId": "77e32953-0679-48b5-f004-1ab4a4ac0271",
      "text": "Gender",
      "answerOption": [
        {
          "valueCoding": {
            "code": "male",
            "display": "Male",
            "system": "http://hl7.org/fhir/administrative-gender"
          }
        },
        {
          "valueCoding": {
            "code": "female",
            "display": "Female",
            "system": "http://hl7.org/fhir/administrative-gender"
          }
        }
      ],
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.gender"
    },
    {
      "type": "choice",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": false,
      "linkId": "1e1a206f-1cc2-4e48-8103-b26bf4bd7c3c",
      "text": "Is family head?",
      "answerOption": [
        {
          "valueCoding": {
            "code": "yes",
            "display": "Yes",
            "system": "urn:uuid:be95a957-669b-4788-8623-aba83c279f77"
          }
        },
        {
          "valueCoding": {
            "code": "no",
            "display": "No",
            "system": "urn:uuid:be95a957-669b-4788-8623-aba83c279f77"
          }
        }
      ]
    },
    {
      "type": "choice",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": false,
      "linkId": "c2cbf346-b3a7-4418-e4b8-d723254ba5ed",
      "text": "Is primary caregiver?",
      "answerOption": [
        {
          "valueCoding": {
            "code": "yes",
            "display": "Yes",
            "system": "urn:uuid:9310538c-d1f6-480d-84ef-482ec5f712d8"
          }
        },
        {
          "valueCoding": {
            "code": "no",
            "display": "No",
            "system": "urn:uuid:9310538c-d1f6-480d-84ef-482ec5f712d8"
          }
        }
      ]
    },
    {
      "type": "choice",
      "code": [],
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "system": "http://hl7.org/fhir/questionnaire-item-control",
                "code": "drop-down",
                "display": "Drop down"
              }
            ],
            "text": "Drop down"
          }
        }
      ],
      "required": false,
      "linkId": "e6042b8b-0a78-44a8-83b6-020782e4a55e",
      "text": "Education Level",
      "answerOption": [
        {
          "valueCoding": {
            "code": "none",
            "display": "None",
            "system": "urn:uuid:c98e76c8-58b4-466c-dc53-9255495d3775"
          }
        },
        {
          "valueCoding": {
            "code": "literacy",
            "display": "Literacy",
            "system": "urn:uuid:c98e76c8-58b4-466c-dc53-9255495d3775"
          }
        },
        {
          "valueCoding": {
            "code": "primary",
            "display": "Primary",
            "system": "urn:uuid:c98e76c8-58b4-466c-dc53-9255495d3775"
          }
        },
        {
          "valueCoding": {
            "code": "secondary",
            "display": "Secondary",
            "system": "urn:uuid:c98e76c8-58b4-466c-dc53-9255495d3775"
          }
        },
        {
          "valueCoding": {
            "code": "university",
            "display": "University",
            "system": "urn:uuid:c98e76c8-58b4-466c-dc53-9255495d3775"
          }
        }
      ]
    },
    {
      "type": "boolean",
      "code": [],
      "required": false,
      "linkId": "66e8c2d2-b7df-4c03-bc85-383659b4bed8",
      "text": "Is Patient Active?",
      "initial": [
        {
          "valueBoolean": true
        }
      ],
      "definition": "http://hl7.org/fhir/StructureDefinition/Patient#Patient.active",
      "extension": [
        {
          "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-initialExpression",
          "valueExpression": {
            "language": "text/fhirpath",
            "expression": "Patient.active"
          }
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-hidden",
          "valueBoolean": true
        }
      ]
    }
  ]
}