{
  "resourceType": "PlanDefinition",
  "id": "306",
  "meta": {
    "versionId": "2",
    "lastUpdated": "2023-05-11T08:09:42.230+00:00",
    "source": "#E8P5kR0ZZwyYXppe"
  },
  "contained": [
    {
      "resourceType": "ActivityDefinition",
      "id": "careplan-activity",
      "title": "Child Immunization",
      "status": "active",
      "description": "This is the OPV scheduled immunization.",
      "kind": "Task",
      "timingTiming": {
        "repeat": {
          "count": 1,
          "countMax": 1,
          "duration": 2,
          "durationMax": 4,
          "durationUnit": "h"
        }
      }
    },
    {
      "resourceType": "ActivityDefinition",
      "id": "careplan-end-activity",
      "title": "Careplan completion Activity",
      "status": "active",
      "description": "This action will assess careplan every time a followup happens on a task generated by plan to mark it complete",
      "kind": "CarePlan",
      "dynamicValue": [
        {
          "path": "CarePlan.status",
          "expression": {
            "language": "text/fhirpath",
            "expression": "'completed'"
          }
        }
      ]
    }
  ],
  "name": "Child Immunization",
  "title": "Child Immunization",
  "status": "active",
  "description": "This scheduled will be used to track the child's immunization.",
  "goal": [
    {
      "category": {
        "coding": [
          {
            "system": "https://www.hl7.org/fhir/codesystem-goal-category.html",
            "code": "nursing",
            "display": "Nursing"
          }
        ]
      },
      "priority": {
        "coding": [
          {
            "system": "https://www.hl7.org/fhir/codesystem-goal-priority.html",
            "code": "high-priority",
            "display": "High Priority"
          }
        ]
      },
      "start": {
        "coding": [
          {
            "system": "http://www.snomed.org/",
            "code": "32485007",
            "display": "Admission to hospital"
          }
        ]
      }
    }
  ],
  "action": [
    {
      "prefix": "1",
      "priority": "routine",
      "reason": [
        {
          "coding": [
            {
              "system": "http://snomed.info/sct",
              "code": "33879002",
              "display": "Administration of vaccine to produce active immunity (procedure)"
            }
          ],
          "text": "Administration of vaccine to produce active immunity (procedure)"
        }
      ],
      "condition": [
        {
          "kind": "applicability",
          "expression": {
            "language": "text/fhirpath",
            "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 'months') <= $this.birthDate"
          }
        }
      ],
      "participant": [
        {
          "type": "practitioner",
          "role": {
            "coding": [
              {
                "system": "http://terminology.hl7.org/CodeSystem/practitioner-role",
                "code": "nurse",
                "display": "Nurse"
              }
            ]
          }
        }
      ],
      "type": {
        "coding": [
          {
            "code": "clinical-protocol",
            "display": "Clinical Protocol"
          }
        ]
      },
      "definitionCanonical": "#careplan-activity",
      "transform": "http://fhir.mpower-social.com:7070/fhir/StructureMap/305"
    },
    {
      "prefix": "1",
      "priority": "routine",
      "condition": [
        {
          "kind": "applicability",
          "expression": {
            "language": "text/fhirpath",
            "expression": "$this is Patient and %resource.entry.first().resource is Patient and (today() - 60 'months') > $this.birthDate"
          }
        }
      ],
      "definitionCanonical": "#careplan-end-activity"
    }
  ]
}